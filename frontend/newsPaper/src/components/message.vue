<template>
    <div class="q-pa-md row q-gutter-md" style="display: flex;justify-content: center;">
        <q-card style="width: 70%; min-width: 10rem;" v-for="(single_message, index) in all_messages" :key="single_message"
            flat bordered dir="rtl">
            <!-- <q-img src="https://cdn.quasar.dev/img/parallax2.jpg" /> -->
            <!-- <q-img :src="`../../media/${single_message.media_id}.jpg`" /> -->
            <q-img v-if="single_message.message_type == 'image'" :src="`${single_message.media_id}`" />
            <!-- <q-video v-else :ratio="16 / 9" src="../../media/shadmehr.mp4" /> -->
            <q-video v-else :ratio="16 / 9" src="" />
            <q-card-section>
                <div style="display: flex;justify-content: space-between;align-items: center;">
                    <div class="text-overline text-orange-9">{{ single_message.news_agency }}</div>
                    <div style="display: flex;">
                        {{ single_message.views }}
                        <q-icon class="q-mx-sm" name="img:../../public/icon/eyeVector.svg" />
                    </div>
                </div>
                <!-- <div class="text-h5 q-mt-sm q-mb-xs">{{ single_message.message_text }}</div> -->
                <div class="text-caption text-grey ellipsis-2-lines">
                    {{ single_message.message_text }}
                </div>
            </q-card-section>

            <q-card-actions>
                <q-btn color="grey" round flat dense :icon="expanded[index] ? 'keyboard_arrow_up' : 'keyboard_arrow_down'"
                    @click="toggle_expansion(index)" />
                <q-space />
                <q-btn flat color="primary" label="Share" />

            </q-card-actions>

            <q-slide-transition>
                <div v-show="expanded[index]">
                    <q-separator />
                    <q-card-section class="text-subitle2">
                        {{ single_message.message_text }}
                    </q-card-section>
                </div>
            </q-slide-transition>
        </q-card>
    </div>
</template>
  
<script>
import { ref } from 'vue'

export default {
    setup() {
        let expanded = ref([])
        //sample data
        const allData = {
            "68153": {
                "channel": "ManotoTV",
                "message": "ุตู ุทููุงู ุจูุฒู ุฏุฑ ฺฏุฑฺฏุงู.",
                "views": 7578,
                "message_type": "video",
                "media_id": "2635916488625575895"
            },
            "68154": {
                "channel": "ManotoTV",
                "message": "ููุชูุฑุณูุงุฑ ุจุง ูพูุดุด ุงุฎุชุงุฑ.",
                "views": 5974,
                "message_type": "video",
                "media_id": "3635916488625575895"
            },
            "151618": {
                "channel": "mehrnews",
                "message": "๐น ณ ูุฒุงุฑ ุดฺฉุงุช ุนูู ฺฏุฑุงูโูุฑูุด ูููุชุงฺฺฉุงุฑุงู ุฎูุฏุฑู\n\n๐ก @Mehrnews",
                "views": 197,
                "message_type": "video",
                "media_id": "8276283643798385895"
            },
            "151619": {
                "channel": "mehrnews",
                "message": "ุนูุฏู ุชุฎููุงุช ฺฏุฑูู ุฑุณุชู ุตูุง ฺู ุจูุฏู ุงุณุชุ\n\n๐บ ูุญูุฏ ุฑุณุชู ุตูุง ฺฉ ุจุฏูฺฉุงุฑ ฺฉูุงู ู ุฏุงูู ุฏุฑุดุช ุจุงูฺฉ ุจูุฏู ฺฉู ุงุฒ ุณุงู ฑณธฑ ูุณุจุช ุจู ุชุงุฏู ุจุฏูโูุง ุฎูุฏ ุจู ุฏูุงู ูุงูุนููู ุฎูุฏุฏุงุฑ ฺฉุฑุฏู ู ุจุง ุชุจุฏู ููุฏุงุฑ ุงุฒ ุชุณููุงุช ุฏุฑุงูุช ุจู ุงุฑุฒุ ูุจุงูุบ ุฑุง ุจู ุฎุงุฑุฌ ฺฉุดูุฑ ููุชูู ฺฉุฑุฏู ู ุงูุฏุงู ุจู ุณุฑูุงูโฺฏุฐุงุฑ ฺฉุฑุฏู ุงุณุช.\n\n๐บ ุฑุณุชู ุตูุง ุจุง ุชูุณู ุจู ุชูู ุงุณูุงุฏ ุฎูุงู ูุงูุน ูุณุจุช ุจู ุฌุฐุจ ุชุณููุงุช ุงุฑุฒ ฺฉุดูุฑ ุงูุฏุงู ฺฉุฑุฏู ู ุงุฒ ุทุฑู ฺฏุดุงุด ุงุนุชุจุงุฑุงุช ุงุณูุงุฏ ู ุนุฏู ุงูุฌุงู ูุงุฑุฏุงุช ฺฉุงูุงุ ุงุฑูุงู ูุงุจู ุชูุฌู ุฑุง ุงุฒ ฺฉุดูุฑ ุฎุงุฑุฌ ฺฉุฑุฏู ุงุณุช.\n\n๐บ ุฑุณุชู ุตูุง ุนูุงูู ุจุฑ ุณุฑูุงูโฺฏุฐุงุฑ ุนุธู ุฏุฑ ุงูุงุฑุงุช ูุชุญุฏู ุนุฑุจ ุจุฎุด ุงุฒ ุซุฑูุช ุฎูุฏ ุฑุง ุฏุฑ ฺฉุดูุฑูุง ุขูุฑฺฉุงุ ุงูฺฏูุณ ู ุณูุฆุณ ุณุฑูุงูโฺฏุฐุงุฑ ฺฉุฑุฏู ุงุณุช.\n\n๐ mehrnews.com/x32Sf3\n\n๐ก @Mehrnews",
                "views": 38,
                "message_type": "image",
                "media_id": "0794169269385035895"
            },
            "188816": {
                "channel": "IranintlTV",
                "message": "๐ปุชู ููุชุณุงู ุฏุฎุชุฑุงู ุฏุงูุดฺฏุงู ุชุจุฑุฒุ ุฏุฑ ุฑูุงุจุช ูุง ูุณุชูุงู ุจู ุงูููู ูุฑุฒุด ูุง ุฏุงูุดฺฏุงู ุฑูุณูุ ุจุง ูุชุฌู ท ุจุฑ ฒ ฺฉูุจุง ุฑุง ุงุฒ ูพุด ุฑู ุจุฑุฏุงุดุช.\n\n๐นุชูโูุง ููุชุณุงู ูพุณุฑุงู ุฏุงูุดฺฏุงู ุชูุฑุงูุ ููุชุณุงู ุฏุฎุชุฑุงู ุฏุงูุดฺฏุงู ุชุจุฑุฒุ ุชูโูุง ุจุฏููุชูู ุฏุฎุชุฑุงู ุฏุงูุดฺฏุงู ุชูุฑุงูุ ูพุณุฑุงู ุฏุงูุดฺฏุงู ูุฑุฏูุณ ูุดูุฏ ู ุชู ฺฉุดุช ูุฑูฺฏ ุฏุงูุดฺฏุงู ูุฑุฏูุณ ูุดูุฏ ุฏุฑ ุงู ุฑูุงุจุชโูุง ุญุถูุฑ ุฏุงุฑูุฏ.\n\n@iranintltvsport",
                "views": 2104,
                "message_type": "video",
                "media_id": "4885573164195155895"
            },
            "188817": {
                "channel": "IranintlTV",
                "message": "๐ปุชู ูู ููุชุจุงู ุฒูุงู ุงุณูพุงูุง ุฏุฑ ููุงู ุฌุงู ุฌูุงู ฒฐฒณ ุฒูุงู ุฏุฑ ุงุณุชุฑุงูุง ุจุง ูุชุฌู ฺฉ ุจุฑ ุตูุฑ ุงุฒ ุณุฏ ุชู ูู ุงูฺฏูุณุชุงู ุนุจูุฑ ฺฉุฑุฏ ุชุง ุจุฑุง ุงููู ุจุงุฑ ุฏุฑ ุชุงุฑุฎ ุจู ููุฑูุงู ุจุฑุณุฏ.\n\n๐นุงููฺฏุง ฺฉุงุฑูููุงุ ุณุชุงุฑู ฒณ ุณุงูู ุฑููุงู ูุงุฏุฑุฏ ู ฺฉุงูพุชุงู ุชู ูู ุงุณูพุงูุงุ ุชฺฉ ฺฏู ุงู ุชู ุฑุง ุฏุฑ ุฏููู ฒน ุจู ุซูุฑ ุฑุณุงูุฏ.\n\n@iranintltvsport",
                "views": 2099,
                "message_type": "image",
                "media_id": "5636573088689386895"
            },
            "237009": {
                "channel": "irna_1313",
                "message": "ฺฉุงุธู ูู: ฺฉุงุฑุดูุงุณุงู ุงุฑุงู ุงุฒ ุงุณุชฺฏุงู ุขุจุณูุฌ ุฏูุฑุงูุฏ ุงูุบุงูุณุชุงู ุจุงุฒุฏุฏ ฺฉุฑุฏูุฏ / ุญูุขุจู ุงุฑุงู ุงุฒ ูุฑููุฏ ุจุง ุนุฏุงูุช ุงูุฏุงุฒูโฺฏุฑ ู ุชุญูู ุดูุฏ\n\nููุงูุฏู ูฺู ุฑุฆุณ ุฌูููุฑ ุฏุฑ ุงููุฑ ุงูุบุงูุณุชุงู:\n๐นูพุงุจูุฏ ุทุฑู  ุงูุบุงู ู ุนูู ุจู ุจุฎุด ุงุฒ ููุงุฏ ูุนุงูุฏู ุณุงู ฑณตฑ ู.ุด ุฑูุฏุฎุงูู ูุฑููุฏ ูุงู ุฏููุชู ฺฉู ููุฌุฑ ุจู ุจุงุฒุฏุฏ ุชู ูู ุฌูููุฑ ุงุณูุงู ุงุฑุงู ุงุฒ ุงุณุชฺฏุงู ุขุจุณูุฌ ุฏูุฑุงูุฏ ฺฉู ูุจูุง ุณูุฌุด ุณุงู ุขุจ ูุฑูุงู ุงุณุชุ ูุดุงูู ูุซุจุช ุจุฑ ุขุบุงุฒ ุชุนุงููุงุช ุณุงุฒูุฏู ุฏุฑ ุงุนุชูุงุฏ ุณุงุฒ ู ุญุณู ููุฌูุงุฑ ูโุจุงุดุฏ.\n\n๐นุทุจู ูุธุฑ ฺฉุงุฑุดูุงุณุงู ุงุนุฒุงู ฺฉู ุฌุฑุงู ุขุจ ุฏุฑ ุงุณุชฺฏุงู ุขุจุณูุฌ ุฏูุฑุงูุฏ ุฑุง ูุดุงูุฏู ู ุงูุฏุงุฒู ฺฏุฑ ูููุฏูโุงูุฏุ (ูุฒุงู ุฌุฑุงู ุขุจ ุฏุฑ ุญุงู ุนุจูุฑ ุฏุฑ ูุฑุฏุงุฏ ูุงู  ฑดฐฒ) ฺฉูุชุฑ ุงุฒ ูุฒุงู ูุงูุงูู ฺฉ ุณุงู ุขุจ ูุฑูุงู ฺฏุฒุงุฑุด ุดุฏู ุงุณุช.\n\n๐นุงูุชุธุงุฑ ูโุฑูุฏ ุจุง ุงุณุชูุฑุงุฑ ุฏุฑ ุงุฑุณุงู ููุธู ูุงูุงููุ ุงุทูุงุนุงุช ู ุดุงุฎุตโูุง ุขุจุณูุฌุ ุจุงุฒุฏุฏูุง ุจููฺฏุงู ุงุฒ ุงู ุงุณุชฺฏุงู ู ุชุนู ุฏูู ูุฒุงู ฺฉู ุขุจ ู ุชุฑ ุณุงู ูุฑ ุณุงูุ ููุฏุงุฑ ุญูุงุจู ุงุฑุงู ุงุฒ ุฑูุฏุฎุงูู ูุฑููุฏ ุจู ุฏุฑุณุช ู ุจุง ุนุฏุงูุช ุงูุฏุงุฒูโฺฏุฑ ู ูุทุงุจู ุจูุฏ ุจ ูุงุฏู ณ ูุนุงูุฏู ุจู ุทุฑู ุงุฑุงู ุชุญูู ุดูุฏ.\n@IRNA_1313",
                "views": 672,
                "message_type": "image",
                "media_id": "5359784830404335895"
            },
            "237011": {
                "channel": "irna_1313",
                "message": "๐ฅ ููุด ูุตููุนุ ูุงุจูุฏฺฏุฑ ุดุบูโูุงุ\n\n๐นูพุดุฑูุช ุฑูุฒุงูุฒูู ููุด ูุตููุน ู ูุงุจูุชโูุง ฺฉู ุฏุงุฑุฏุ ุงู ูฺฏุฑุงู ุฑุง ุจุฑุง ุจุฑุฎ ุงุฌุงุฏ ฺฉุฑุฏู ฺฉู ุขุง ููุด ูุตููุน ูุดุงุบู ุฒุงุฏ ุฑุง ุงุฒ ุจู ุฎูุงูุฏ ุจุฑุฏุโ\n\n๐นุงูุง ุฏุฑ ุงุฑุชุจุงุท ุจุง  ููุด ูุตููุน ู ูุดุงุบู ูุนูููุงู ููุท ุฌูุจูโูุง ููู ู ูุงุจูุฏ ุดุบูโูุง ูุฎุชูู ุฏุฏู ุดุฏู ุฏุฑ ุญุงู ฺฉู ูพุดโุจูโูุง ุฏููโุชุฑ ูุดุงู ูโุฏูุฏ ุฏุฑ ฺฉูุงุฑ ูพุดุฑูุช ููุด ูุตููุนุ ูููุนุชโูุง ุดุบู ุฌุฏุฏ ุงุฌุงุฏ ุฎูุงูุฏ ุดุฏ.\n@IRNA_1313",
                "views": 463,
                "message_type": "video",
                "media_id": "2988368299304335895"
            },
            "265171": {
                "channel": "Tasnimnews",
                "message": "๐บูุฑุงุฎูุงู ุดุฑฺฉุช ุฏุฑ ููุงุดฺฏุงู ุนุฑุถู ูุญุตููุงุช ุฑูุณุชุง ู ุนุดุงุฑ\n\nููุงุดฺฏุงู ุนุฑุถู ูุญุตููุงุช ุฑูุณุชุง ูุนุดุงุฑ ฺฉุดูุฑ ุงุฒ ุชุงุฑุฎ ฑฒ ุงู ฑธ ููุฑูุงู ุฏุฑ ูุญู ูุตู ุชูุฑุงู ุจุฑฺฏุฒุงุฑ ู ุดูุฏ.\nุงุฒ ุตุงุญุจุงู ุชููุฏุงุช ุฑูุณุชุง ุฏุนูุช ู ุดูุฏ ุจู ููุธูุฑ ุดุฑฺฉุช ุฏุฑ ุงู ููุงุดฺฏุงูย ุชุง ถ ุดูุฑูุฑ ูุงู ุจู ุขุฏุฑุณ ุงูุชุฑูุช ูุฑุงุฌุนู ฺฉููุฏ.\nWWW.IRDEXPO.IR\nูุนุงููุช ุชูุณุนู ุฑูุณุชุง ู ููุงุทู ูุญุฑูู ฺฉุดูุฑ",
                "views": 2374,
                "message_type": "image",
                "media_id": "4423212528006219045"
            },
            "265172": {
                "channel": "Tasnimnews",
                "message": "ุฏุฏุงุฑ ฺูุฑู ุจู ฺูุฑู ุงุนุถุง ุฏููุช ุจุง ูุฑุฏู\n\nุฑุฆุณ ูุฑฺฉุฒ ุงุฑุชุจุงุทุงุช ูุฑุฏู ุฑุงุณุชโุฌูููุฑ:\n๐นุจูโููุงุณุจุช ููุชู ุฏููุช ุฏุฏุงุฑ ฺูุฑู ุจู ฺูุฑู ุงุนุถุง ุฏููุช ุจุง ูุฑุฏู ุฏุฑ ณฐ โูุณุฌุฏ ุงุณุชุงู ุชูุฑุงู ุจุฑฺฏุฒุงุฑ ูโุดูุฏ. ณฐ ุนุถู ฺฉุงุจูู ูุชุดฺฉู ุงุฒ ูุฒุฑุง ู ูุนุงููู ุฑุฆุณโุฌูููุฑ ูพุงุณุฎฺฏู ุณูุงูุงุช ูุฑุฏู ุฎูุงููุฏ ุจูุฏ.\n\n๐นุฌูุนู ุขูุฏู ุญุถูุฑ ูุฒุฑุง ุฏุฑ ููุงุฒ ุฌูุนูโูุง ุณุฑุงุณุฑ ฺฉุดูุฑ ุจุงูุฏู ุจุงู ุฏุณุชุงูุฑุฏูุง ุฏููุช ู ุงูุชุชุงุญ ูพุฑูฺูโูุง ููู ุงูุฌุงู ุฎูุงูุฏ ุดุฏ.\n@TasnimNews",
                "views": 1124,
                "message_type": "video",
                "media_id": "7476009883476455895"
            },
            "288841": {
                "channel": "farsna",
                "message": "ุจุฑฺฏุฒุงุฑู ฺฉูฺฉูุฑฑดฐณ ุฏุฑ ุงุฑุฏุจูุดุช ู ุชุฑ\n\n๐นุณุงุฒูุงู ุณูุฌุด: ฺฉูฺฉูุฑ ุณุงู ุขูุฏู ุฏุฑ ุฏู ููุจุช ถ ู ท ุงุฑุฏุจูุดุช ู ท ู ธ ุชุฑ ฑดฐณ ุจุฑฺฏุฒุงุฑ ุฎูุงูุฏ ุดุฏ.\n\n๐นุซุจุชโูุงู ููุจุช ุงูู ฒฑ ุชุง ฒท ุขุจุงู ฑดฐฒ ู ุซุจุชโูุงู ููุจุช ุฏูู ท ุชุง ฑฒ ูุฑูุฑุฏู ฑดฐณ ุงูุฌุงู ูโฺฏุฑุฏ.\n\n๐นุขุฒููู ฺฉุงุฑุดูุงุณ ุงุฑุดุฏ ฑดฐณ ุฏุฑ ฺฉ ุฑูุฒ ู ด ุงุณููุฏ ฑดฐฒ ุจุฑฺฏุฒุงุฑ ูโุดูุฏ. ุซุจุชโูุงู ุงู ุขุฒููู ฒณ ุชุง ฒน ููุฑ ฑดฐฒ ุงูุฌุงู ูโฺฏุฑุฏ.\n@Farsna - Link",
                "views": 2689,
                "message_type": "",
                "media_id": "2635916488625575895"
            },
            "288842": {
                "channel": "farsna",
                "message": "ุณูุฑ ุงุฑุงู ุฏุฑ ุงูุบุงูุณุชุงู: ุจุง ูุฌูุฏ ฺฉูโุขุจโ ุฏุฑ ุงูุบุงูุณุชุงู ุญูุขุจู ุงุฑุงู ุทุจู ูุนุงูุฏู ุจุงุฏ ูพุฑุฏุงุฎุช ุดูุฏ\n\n๐นุทุจู ูุธุฑ ฺฉุงุฑุดูุงุณุงู ุงุนุฒุงู ฺฉู ุฌุฑุงู ุขุจ ุฏุฑ ุงุณุชฺฏุงู ุขุจโุณูุฌ ุฏูุฑุงูุฏ ุฑุง ูุดุงูุฏู ู ุงูุฏุงุฒูโฺฏุฑ ฺฉุฑุฏูุฏุ ูุฒุงู ุฌุฑุงู ุขุจ ุฏุฑ ุญุงู ุนุจูุฑ ุฏุฑ ูุฑุฏุงุฏ ุงูุณุงู ฺฉูุชุฑ ุงุฒ ูุฒุงู ูุงูุงู ฺฉ ุณุงู ุขุจ ุนุงุฏ ฺฏุฒุงุฑุด ุดุฏู ุงุณุช.\n\n๐นุจุงุฏ ุงุฑุณุงู ููุธู ูุงูุงู ุงุทูุงุนุงุช ู ุดุงุฎุตโูุง ุขุจโุณูุฌุ ุจุงุฒุฏุฏูุง ุจูโููฺฏุงู ุงุฒ ุงู ุงุณุชฺฏุงู ู ุชุนู ุฏูู ูุฒุงู ฺฉูโโุขุจ ู ุชุฑ ุณุงู ูุฑ ุณุงู ุงุฏุงูู ูพุฏุง ฺฉูุฏ ู ููุฏุงุฑ ุญูุขุจู ุงุฑุงู ุงุฒ ุฑูุฏุฎุงู ูุฑููุฏ ุจู ุฏุฑุณุช ู ุจุง ุนุฏุงูุช ุงูุฏุงุฒูโฺฏุฑ ู ูุทุงุจู ูุนุงูุฏู ุชุญูู ุดูุฏ.\n@Farsna - Link",
                "views": 1914,
                "message_type": "image",
                "media_id": "6820429378777845895"
            }
        }

        let all_images_list = ["7476009883476455895", "4423212528006219045", "0794169269385035895", "8276283643798385895", "2988368299304335895", "5359784830404335895", "6820429378777845895", "3635916488625575895", "2635916488625575895", "5636573088689386895", "4885573164195155895"]
        let all_messages = []

        for (const key in allData) {
            all_messages.push({
                news_agency: allData[key]['channel'],
                message_text: allData[key]['message'],
                views: allData[key]['views'],
                media_id: `../../media/${allData[key]['media_id']}.jpg`,
                message_type: allData[key]['message_type']
            })
            expanded.value.push(false)
        }

        function toggle_expansion(index) {
            expanded.value[index] = !expanded.value[index]
        }

        return {
            expanded,
            all_messages,
            toggle_expansion,
        }
    }
}
</script>
  